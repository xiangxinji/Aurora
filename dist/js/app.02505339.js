(function(e){function t(t){for(var c,a,i=t[0],u=t[1],l=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);s&&s(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(c=!1)}c&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},o={app:0},r=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1ed0":function(e,t,n){},"3a97":function(e,t,n){"use strict";n("ea1e")},"446e":function(e,t,n){"use strict";n("5512")},"4aad":function(e,t,n){"use strict";n("e43e")},5512:function(e,t,n){},"570a":function(e,t,n){},"6e47":function(e,t,n){"use strict";n("1ed0")},"784e":function(e,t,n){},a8f5:function(e,t,n){"use strict";n("784e")},ad98:function(e,t,n){},c78c:function(e,t,n){"use strict";n("ad98")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),o=n("1250"),r=(n("b0c0"),n("c740"),n("a434"),[]);document.addEventListener("click",(function(e){var t=e.target;r.forEach((function(e){var n=e.el,c=e.callback;t===n||n.contains(t)||c()}))}));var a={name:"click-outside",mounted:function(e,t){r.push({el:e,callback:function(){t.value&&"function"===typeof t.value&&t.value(e)}})},unmount:function(e){var t=r.findIndex((function(t){return e===t.el}));-1!==t&&r.splice(t,1)}},i={install:function(e){e.directive(a.name,a)}};function u(e,t){var n=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createBlock"])(n)}n("c78c");const l={};l.render=u;var s=l,d=n("6c02");Object(c["pushScopeId"])("data-v-84cb97c2");var p={class:"home"},f={class:"container"};function b(e,t,n,o,r,a){var i=Object(c["resolveComponent"])("touch-bar"),u=Object(c["resolveComponent"])("screen"),l=Object(c["resolveComponent"])("options-bar"),s=Object(c["resolveComponent"])("context");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",p,[Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{style:{width:"250px"}}),Object(c["createVNode"])(u,{style:{flex:"1"},configure:e.mock},null,8,["configure"]),Object(c["createVNode"])(l,{style:{width:"250px"}})]})),_:1})])])}Object(c["popScopeId"])();var O,v=[{group:"base",title:"基础组件",children:[{label:"输入框",icon:"",handleKey:"text-input"},{label:"多行输入框",icon:"",handleKey:"textarea"},{label:"html片段",icon:"",handleKey:"html-code"}]},{group:"custom",title:"自定义组件",children:[]}];function j(e){return e===O["text-input"]||e===O.textarea?{textarea:e===O.textarea,key:"",label:"文本",width:"",hidden:!1,placeholder:"你好1 ",defaultValue:"",customClass:"",required:!0}:e===O["html-code"]?{key:"",label:"html 块",hidden:!1,customClass:"",htmlCode:'<span style="color:red;">111</span>'}:null}(function(e){e["text-input"]="text-input",e["textarea"]="textarea",e["html-code"]="html-code"})(O||(O={})),Object(c["pushScopeId"])("data-v-1e6c0b38");var h={class:"touch-bar"},m={class:"title"},y={class:"touch-group-children"},k=["data-handler-key"],g=Object(c["createElementVNode"])("div",{class:"icon"},[Object(c["createElementVNode"])("span",{class:"el-icon-sunny"})],-1),C={class:"label"};Object(c["popScopeId"])();var x=Object(c["defineComponent"])({setup:function(e){var t=0;function n(e){var n=e.handleKey;if(n){var c=j(n),o={type:"textarea"===n?"text-input":n,id:t++,options:c};return console.log(o),o}return!1}return function(e,t){var o=Object(c["resolveComponent"])("draggable");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",h,[Object(c["createElementVNode"])("div",{class:"container",ref:function(e,t){t["touchContainer"]=e}},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(v),(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"touch-group",key:e.label},[Object(c["createElementVNode"])("div",m,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("div",y,[Object(c["createVNode"])(o,{list:e.children,sort:!1,group:{name:"touch",pull:"clone",put:!1},"item-key":"label",clone:n},{item:Object(c["withCtx"])((function(e){var t=e.element;return[Object(c["createElementVNode"])("div",{class:"touch-group-item","data-handler-key":t.handleKey},[g,Object(c["createElementVNode"])("div",C,Object(c["toDisplayString"])(t.label),1)],8,k)]})),_:2},1032,["list"])])])})),128))],512)])}}});n("3a97");x.__scopeId="data-v-1e6c0b38";var w=x;Object(c["pushScopeId"])("data-v-a92c042a");var S={class:"active-dragger"},V={class:"operations"};function B(e,t,n,o,r,a){var i=Object(c["resolveComponent"])("rank"),u=Object(c["resolveComponent"])("el-icon"),l=Object(c["resolveComponent"])("copy-document"),s=Object(c["resolveComponent"])("delete-filled"),d=Object(c["resolveDirective"])("click-outside");return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"preview-item",onClickCapture:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)})},[Object(c["createElementVNode"])("div",S,[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i)]})),_:1})]),Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(u,{size:16,onClick:Object(c["withModifiers"])(e.handleAppendCopy,["stop"])},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l)]})),_:1},8,["onClick"]),Object(c["createVNode"])(u,{size:16,onClick:Object(c["withModifiers"])(e.handleDelete,["stop"])},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s)]})),_:1},8,["onClick"])]),(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(e.state.type),{options:e.state.options},null,8,["options"]))],544)),[[d,e.handleBlur]])}Object(c["popScopeId"])();var _=n("a015"),N=n("8979"),E=n("076d"),I=n("ade3");n("159b"),n("ac1f"),n("1276"),n("b64b");function A(e){return function(t){return"string"===typeof t?t:t+e}}function R(){for(var e={},t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return n.forEach((function(t){"string"===typeof t||Array.isArray(t)?("string"===typeof t?t.split(" "):t).forEach((function(t){e[t]=!0})):Object.keys(t).forEach((function(n){t[n]&&(e[n]=!0)}))})),e}var D={options:{type:Object},onInitState:{type:Function}},P=A("px");function M(e,t){var n,c=t.customClass;return R(c,(n={},Object(I["a"])(n,"render-item-".concat(e),!0),Object(I["a"])(n,"render-item__hidden",t.hidden),n))}function q(e){var t={label:e.label,key:e.key};return e.labelWidth&&(t.labelWidth=e.labelWidth),e.required&&(t.required=e.required),t}function F(e){return{width:P(e.width)||"100%"}}var L=Object(c["defineComponent"])({props:{options:{type:Object},type:{type:String,required:!0}},setup:function(e){return function(t,n){var o=Object(c["resolveComponent"])("el-form-item");return Object(c["openBlock"])(),Object(c["createBlock"])(o,Object(c["mergeProps"])(Object(c["unref"])(q)(e.options),{class:Object(c["unref"])(M)(e.type,e.options),style:Object(c["unref"])(F)(e.options)}),{default:Object(c["withCtx"])((function(){return[Object(c["renderSlot"])(t.$slots,"default")]})),_:3},16,["class","style"])}}}),K=L,T=Object(c["defineComponent"])({props:D,setup:function(e){return function(e,t){var n=Object(c["resolveComponent"])("el-input");return Object(c["openBlock"])(),Object(c["createBlock"])(K,{options:e.options,type:e.type},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{type:e.options.textarea?"textarea":"input",modelValue:e.options.defaultValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.options.defaultValue=t}),placeholder:e.options.placeholder},null,8,["type","modelValue","placeholder"])]})),_:1},8,["options","type"])}}}),z=T,H=["innerHTML"],J=Object(c["defineComponent"])({props:D,setup:function(e){return function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(K,{options:e.options,type:e.options.type},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",{innerHTML:e.options.htmlCode},null,8,H)]})),_:1},8,["options","type"])}}}),W=J;Object(c["inject"])("RenderStore");function $(e){e.classList.remove("preview-active")}var U=Object(c["defineComponent"])({inject:["RenderStore"],props:{conf:{type:Object,required:!0},current:{type:Boolean,default:!1}},data:function(){return{state:this.conf}},components:{textInput:z,htmlCode:W,Rank:_["a"],DeleteFilled:N["a"],CopyDocument:E["a"]},methods:{handleFocus:function(e){var t=e.currentTarget;t.classList.add("preview-active"),this.$emit("active",this.state)},handleBlur:$,handleDelete:function(){this.RenderStore&&this.RenderStore.remove(this.state.id)},handleAppendCopy:function(){if(this.RenderStore){var e=this.RenderStore.indexOf(this.state.id);this.RenderStore.set(JSON.parse(JSON.stringify(this.state)),e+1)}}},mounted:function(){}});n("a8f5");U.render=B,U.__scopeId="data-v-a92c042a";var G=U;Object(c["pushScopeId"])("data-v-109e6cda");var Q={class:"renderer-container"};Object(c["popScopeId"])();var X=Object(c["defineComponent"])({props:{items:{type:Array,required:!0},formOptions:{type:Object,default:function(){return{labelWidth:"100px",size:"mini"}}}},setup:function(e){var t=e,n=Object(c["inject"])("RenderStore")||void 0;n.set(t.items);var o=n.data,r=Object(c["computed"])((function(){return t.formOptions}));function a(e){n&&n.setCurrent(e)}return function(e,t){var n=Object(c["resolveComponent"])("draggable"),i=Object(c["resolveComponent"])("el-form");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Q,[Object(c["createVNode"])(i,Object(c["normalizeProps"])(Object(c["guardReactiveProps"])(Object(c["unref"])(r))),{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{list:Object(c["unref"])(o),"item-key":"id",handle:".active-dragger",group:{name:"preview",put:"touch"},animation:300},{item:Object(c["withCtx"])((function(e){var t=e.element;return[Object(c["createVNode"])(G,{conf:t,onActive:a},null,8,["conf"])]})),_:1},8,["list"])]})),_:1},16)])}}});n("446e");X.__scopeId="data-v-109e6cda";var Y=X;Object(c["pushScopeId"])("data-v-14e587da");var Z={class:"screen"};Object(c["popScopeId"])();var ee=Object(c["defineComponent"])({props:{configure:{type:Array,default:function(){return[]}}},setup:function(e){return function(t,n){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Z,[Object(c["createVNode"])(Y,{items:e.configure},null,8,["items"])])}}});n("4aad");ee.__scopeId="data-v-14e587da";var te=ee;Object(c["pushScopeId"])("data-v-46272c37");var ne={class:"options-bar"};Object(c["popScopeId"])();var ce=Object(c["defineComponent"])({setup:function(e){var t=Object(c["inject"])("RenderStore")||void 0,n=Object(c["reactive"])({current:null});return null===t||void 0===t||t.on("current-change",(function(e){n.current=e})),console.log(t),function(e,t){var o;return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ne,Object(c["toDisplayString"])(null===(o=Object(c["unref"])(n).current)||void 0===o?void 0:o.type),1)}}});n("6e47");ce.__scopeId="data-v-46272c37";var oe=ce,re=n("d4ec"),ae=n("bee2"),ie=n("262e"),ue=n("2caf"),le=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),function(){function e(){Object(re["a"])(this,e),this.events=new Map}return Object(ae["a"])(e,[{key:"on",value:function(e,t){var n=this.events.get(e)||[],c=n.indexOf(t);-1===c&&n.push(t),this.events.set(e,n)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var o=this.events.get(e);o&&o.forEach((function(e){e.apply(null,n)}))}}]),e}()),se=function(e){Object(ie["a"])(n,e);var t=Object(ue["a"])(n);function n(){var e;return Object(re["a"])(this,n),e=t.apply(this,arguments),e.data=Object(c["reactive"])([]),e.nextId=0,e}return Object(ae["a"])(n,[{key:"set",value:function(e,t){var n=this,c=Array.isArray(e)?e:[e];c.forEach((function(e){e.id=n.nextId++,t?n.data.splice(t,0,e):n.data.push(e)}))}},{key:"remove",value:function(e){var t=this.data.findIndex((function(t){return t.id===e}));t>-1&&(this.data[t]===this.current&&this.setCurrent(),this.data.splice(t,1))}},{key:"get",value:function(e){return this.data[e]}},{key:"setCurrent",value:function(e){if(e){if(-1===this.data.indexOf(e))return}else this.current=void 0;this.current=e,this.emit("current-change",this.current)}},{key:"indexOf",value:function(e){return this.data.findIndex((function(t){return t.id===e}))}}]),n}(le),de=Object(c["defineComponent"])({setup:function(e){var t=new se;return Object(c["provide"])("RenderStore",t),function(e,t){return Object(c["renderSlot"])(e.$slots,"default")}}}),pe=de,fe=n("df9d"),be=n.n(fe),Oe=Object(c["defineComponent"])({name:"Home",components:{touchBar:w,screen:te,context:pe,optionsBar:oe},setup:function(){return{mock:be.a}}});n("e4b5");Oe.render=b,Oe.__scopeId="data-v-84cb97c2";var ve=Oe,je=[{path:"/",name:"Home",component:ve}],he=Object(d["a"])({history:Object(d["b"])(),routes:je}),me=he,ye=n("5502"),ke=Object(ye["a"])({state:{},mutations:{},actions:{},modules:{}}),ge=(n("7437"),n("b76a")),Ce=n.n(ge);console.log(Ce.a);var xe={install:function(e){e.component("draggable",Ce.a)}};Object(c["createApp"])(s).use(o["a"]).use(ke).use(me).use(i).use(xe).mount("#app")},df9d:function(e,t){e.exports=[]},e43e:function(e,t,n){},e4b5:function(e,t,n){"use strict";n("570a")},ea1e:function(e,t,n){}});
//# sourceMappingURL=app.02505339.js.map